<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>
	<link rel='stylesheet' href='https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css'>
	<link rel='stylesheet' href='https://cdn.datatables.net/buttons/1.2.2/css/buttons.bootstrap.min.css'>
	<style>
		body {
			margin: 2em;
		}
	</style>
</head>

<body>
	<h2>All Products with Category and Supplier</h2>
	<table id="table1" class="table table-striped table-bordered" cellspacing="0" width="100%">
		<thead>
			<tr>
				<th>Product</th>
				<th>Category</th>
				<th>Supplier</th>
			</tr>
		</thead>
	</table>

	<h2>All Products with Prices (Including Products without Prices)</h2>
	<table id="table2" class="table table-striped table-bordered">
		<thead>
			<tr>
				<th>Product</th>
				<th>Price</th>
			</tr>
		</thead>
	</table>

	<h2>Products with Category, Supplier, and Current Price (Excluding Products Without Prices)</h2>
	<table id="table3" class="table table-striped table-bordered">
		<thead>
			<tr>
				<th>Product</th>
				<th>Category</th>
				<th>Supplier</th>
				<th>Price</th>
			</tr>
		</thead>
	</table>

	<h2>Total Products and Average Price per Supplier</h2>
	<table id="table4" class="table table-striped table-bordered">
		<thead>
			<tr>
				<th>Supplier</th>
				<th>Total Products</th>
				<th>Average Price</th>
			</tr>
		</thead>
	</table>

	<!-- partial -->
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
	<script src='https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js'></script>
	<script src='https://cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js'></script>
	<script src='https://cdn.datatables.net/buttons/1.2.2/js/buttons.colVis.min.js'></script>
	<script src='https://cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js'></script>
	<script src='https://cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js'></script>
	<script src='https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js'></script>
	<script src='https://cdn.datatables.net/buttons/1.2.2/js/buttons.bootstrap.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.18/pdfmake.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.18/vfs_fonts.js'></script>
	<script>
		$(document).ready(function () {
			function initDataTable(tableId, type, columns) {
				$("#" + tableId).DataTable({
					"ajax": {
						"url": "data.php",
						"type": "GET",
						"data": { type: type }
					},
					"columns": columns
				});
			}

			initDataTable("table1", "products_with_category_supplier", [
				{ "data": "product_name" },
				{ "data": "category_name" },
				{ "data": "supplier_name" }
			]);

			initDataTable("table2", "products_with_prices", [
				{ "data": "product_name" },
				{ "data": "price" }
			]);

			initDataTable("table3", "products_with_category_supplier_price", [
				{ "data": "product_name" },
				{ "data": "category_name" },
				{ "data": "supplier_name" },
				{ "data": "price" }
			]);

			initDataTable("table4", "total_products_avg_price_per_supplier", [
				{ "data": "supplier_name" },
				{ "data": "total_products" },
				{ "data": "average_price" }
			]);
		});

	</script>

</body>

</html>